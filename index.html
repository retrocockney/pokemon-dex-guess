<!DOCTYPE html>
<html>
  }

  const apiGuess = guess.replace(/\s+/g, "-");
  const correctName = currentPokemon.name;

  if (apiGuess === correctName || guess === correctName) {
    score++;
    document.getElementById("result").innerText =
      "Correct! It is " + correctName.toUpperCase() + "!";
    document.getElementById("score").innerText = "Score: " + score;
    return;
  }

  try {
    const response = await fetch(`https://pokeapi.co/api/v2/pokemon-species/${apiGuess}`);
    if (!response.ok) throw new Error();

    const guessData = await response.json();
    const guessGen = getGeneration(guessData.id);

    if (guessGen < currentPokemon.gen) {
      document.getElementById("result").innerText =
        "Wrong! Your guess is from an older generation.";
    } else if (guessGen > currentPokemon.gen) {
      document.getElementById("result").innerText =
        "Wrong! Your guess is from a newer generation.";
    } else {
      document.getElementById("result").innerText =
        "Wrong! Your guess is from the same generation.";
    }

  } catch {
    document.getElementById("result").innerText =
      "That Pok√©mon does not exist!";
  }
}

window.onload = newPokemon;
</script>

</body>
</html>
